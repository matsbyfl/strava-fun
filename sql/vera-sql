CREATE TABLE DEPLOY_LOG
(
id NUMBER(19) NOT NULL,
application VARCHAR2(255),
environment VARCHAR2(255),
deployer VARCHAR2(255),
version VARCHAR2(255),
timestamp TIMESTAMP(6),
CONSTRAINT pk_deploylog_id PRIMARY KEY (id) 
);

CREATE SEQUENCE  id_seq;

CREATE OR REPLACE TRIGGER id_trg 
BEFORE INSERT ON DEPLOY_LOG
FOR EACH ROW
 
BEGIN 
  SELECT id_seq.NEXTVAL
  INTO :new.id
  FROM dual;
END;
/

CREATE UNIQUE INDEX pk_deploylog_id ON portfolio(application);
CREATE UNIQUE INDEX pk_deploylog_id ON portfolio(environment);